# 03. 내일 할 일

로그인·회원 설정 마무리용 체크리스트입니다.

---

## 1. 로그인 "Failed to fetch" 해결

**증상:** 로그인 시 `your-project.supabase.co` / `ERR_NAME_NOT_RESOLVED` 또는 `Failed to fetch` 발생.

**원인:** Next.js가 예전 env로 빌드한 클라이언트 번들이 `.next`에 캐시된 상태.

**순서:**

1. 터미널에서 `npm run dev` **완전 종료** (Ctrl+C).
2. 프로젝트 폴더(**원마케팅SaaS**)에서 **`.next` 폴더 삭제**.
   - PowerShell: `Remove-Item -Recurse -Force .next`
3. 같은 폴더에서 다시 실행: `npm run dev`.
4. 브라우저 새로고침 또는 시크릿 창으로 `http://localhost:3000` 접속 후 로그인.

**확인:** `.env.local`에 실제 Supabase URL·Anon Key가 들어 있어야 함 (placeholder `your-project` / `your-anon-key` 사용 금지).

---

## 2. Auth·프로필 다시 설정 (회원 정보 초기화)

**목표:** 기존 회원 제거 후 아래 두 계정만 사용.

| 용도 | 이메일 | UUID |
|------|--------|------|
| Admin | yeomjw0907@naver.com | 9b54abfa-7692-48a3-804d-bec6b977181d |
| 테스트(클라이언트) | test1@naver.com | ebf05114-6c34-4c20-b25f-d31496c24541 |

**순서:**

1. **Supabase Dashboard → Authentication → Users**  
   - 필요 시 기존 사용자 삭제 후, 위 두 이메일로 **Create new user** (비밀번호 설정).
2. **SQL Editor**에서 **`supabase/sql/03-seed/profiles.sql`** 전체 붙여넣고 **Run**.
   - 기존 admin/test 프로필 삭제 후 위 UUID·이메일로 다시 등록됨. 여러 번 실행 가능.

자세한 내용은 `01-먼저-할-일.md` 5·6번 참고.

---

## 3. 로그인 테스트

- **Admin:** `yeomjw0907@naver.com` + 비밀번호 → `/admin` 이동 확인.
- **테스트(클라이언트):** `test1@naver.com` + 비밀번호 → `/overview` 이동 확인.

---

## 체크리스트 요약

- [ ] `.next` 삭제 후 `npm run dev` 재실행
- [ ] 로그인 시 Failed to fetch / your-project 오류 없음
- [ ] Auth에 yeomjw0907@naver.com, test1@naver.com 사용자 생성
- [ ] `03-seed/profiles.sql` 실행
- [ ] Admin·테스트 계정으로 로그인 및 화면 확인
